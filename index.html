<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ЁЯЪи р╕Щр╣Йр╕нр╕Зр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => console.log('SW registered', reg))
          .catch(err => console.error('SW registration failed', err));
      });
    }
  </script>
</head>
<body>
  <h1>ЁЯЪи р╕Щр╣Йр╕нр╕Зр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в</h1>

  <section>
    <h2>ЁЯУ░ р╕Вр╣Ир╕▓р╕зр╕Др╕зр╕▓р╕бр╕Ыр╕ер╕нр╕Фр╕ар╕▒р╕в</h2>
    <ul id="news-list">р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Фр╕Вр╣Ир╕▓р╕з...</ul>
  </section>

  <section>
    <h2>ЁЯУН р╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╕нр╕▒р╕Щр╕Хр╕гр╕▓р╕в</h2>
    <ul id="danger-list">р╕Бр╕│р╕ер╕▒р╕Зр╣Вр╕лр╕ер╕Фр╕Вр╣Йр╕нр╕бр╕╣р╕е...</ul>
  </section>

  <section>
    <h2>ЁЯЧ║ р╣Бр╕Ьр╕Щр╕Чр╕╡р╣И</h2>
    <div id="map">
      <iframe 
        width="100%" 
        height="300" 
        style="border:0;" 
        loading="lazy"
        allowfullscreen
        src="https://maps.google.com/maps?q=р╕бр╕лр╕▓р╕зр╕┤р╕Чр╕вр╕▓р╕ер╕▒р╕вр╕Ър╕╣р╕гр╕Юр╕▓&t=&z=15&ie=UTF8&iwloc=&output=embed">
      </iframe>
    </div>
  </section>

  <section>
    <h2>ЁЯЖШ р╕Ыр╕╕р╣Ир╕б SOS</h2>
    <button onclick="sendSOS()">р╕кр╣Ир╕Зр╕кр╕▒р╕Нр╕Нр╕▓р╕У SOS</button>
    <p id="sos-status"></p>
  </section>

  <script>
    async function fetchData() {
      try {
        const newsRes = await fetch("https://mocki.io/v1/42d23941-2e0e-4ec7-8c0e-38f984d58201");
        const news = await newsRes.json();
        document.getElementById("news-list").innerHTML = news.map(item => `<li>${item.title}</li>`).join("");

        const dangerRes = await fetch("https://mocki.io/v1/98e2dbee-8322-4787-9b84-089a410b46d0");
        const danger = await dangerRes.json();
        document.getElementById("danger-list").innerHTML = danger.map(item => `<li>${item.location}</li>`).join("");
      } catch (e) {
        document.getElementById("news-list").innerText = "тЭМ р╣Вр╕лр╕ер╕Фр╕Вр╣Ир╕▓р╕зр╣Др╕бр╣Ир╕кр╕│р╣Ар╕гр╣Зр╕И";
        document.getElementById("danger-list").innerText = "тЭМ р╣Вр╕лр╕ер╕Фр╕Юр╕╖р╣Йр╕Щр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕кр╕│р╣Ар╕гр╣Зр╕И";
      }
    }

    function sendSOS() {
      document.getElementById("sos-status").innerText = "ЁЯУб р╕кр╣Ир╕Зр╕кр╕▒р╕Нр╕Нр╕▓р╕У SOS р╣Бр╕ер╣Йр╕з (р╕Ир╕│р╕ер╕нр╕З)";
    }

    fetchData();
  </script>
</body>
</html>
