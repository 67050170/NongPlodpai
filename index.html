<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üö® ‡∏ô‡πâ‡∏≠‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</title>

  <!-- CSS ‡πÅ‡∏ö‡∏ö inline -->
  <style>
    body {
      font-family: sans-serif;
      padding: 20px;
      background-color: #fff3f3;
      margin: 0;
    }
    h1 {
      color: #d90000;
    }
    button {
      background-color: red;
      color: white;
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    section {
      margin-bottom: 20px;
    }
  </style>

  <!-- manifest ‡πÉ‡∏ô script -->
  <link rel="manifest" href="data:application/manifest+json,{%22name%22:%22%E0%B8%99%E0%B9%89%E0%B8%AD%E0%B8%87%E0%B8%9B%E0%B8%A5%E0%B8%AD%E0%B8%94%E0%B8%A0%E0%B8%B1%E0%B8%A2%22,%22short_name%22:%22%E0%B8%9B%E0%B8%A5%E0%B8%AD%E0%B8%94%E0%B8%A0%E0%B8%B1%E0%B8%A2%22,%22start_url%22:%22index.html%22,%22display%22:%22standalone%22,%22background_color%22:%22%23fff3f3%22,%22theme_color%22:%22%23d90000%22,%22icons%22:[{%22src%22:%22icon.png%22,%22sizes%22:%22192x192%22,%22type%22:%22image/png%22}]}"/>

  <!-- Service Worker Inline Register -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        const swBlob = new Blob([`
          self.addEventListener("install", e => {
            console.log("Service Worker installed");
          });
          self.addEventListener("fetch", e => {
            // Basic fetch passthrough
          });
        `], { type: 'text/javascript' });

        const swUrl = URL.createObjectURL(swBlob);
        navigator.serviceWorker.register(swUrl)
          .then(reg => console.log('SW registered', reg))
          .catch(err => console.error('SW registration failed', err));
      });
    }
  </script>
</head>
<body>
  <h1>üö® ‡∏ô‡πâ‡∏≠‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</h1>

  <section>
    <h2>üì∞ ‡∏Ç‡πà‡∏≤‡∏ß‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</h2>
    <ul id="news-list">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß...</ul>
  </section>

  <section>
    <h2>üìç ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢</h2>
    <ul id="danger-list">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</ul>
  </section>

  <section>
    <h2>üó∫ ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà</h2>
    <div id="map">
      <iframe 
        width="100%" 
        height="300" 
        style="border:0;" 
        loading="lazy"
        allowfullscreen
        src="https://maps.google.com/maps?q=‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡∏ö‡∏π‡∏£‡∏û‡∏≤&t=&z=15&ie=UTF8&iwloc=&output=embed">
      </iframe>
    </div>
  </section>

  <section>
    <h2>üÜò ‡∏õ‡∏∏‡πà‡∏° SOS</h2>
    <button onclick="sendSOS()">‡∏™‡πà‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì SOS</button>
    <p id="sos-status"></p>
  </section>

  <script>
    async function fetchData() {
      try {
        const newsRes = await fetch("https://mocki.io/v1/42d23941-2e0e-4ec7-8c0e-38f984d58201");
        const news = await newsRes.json();
        document.getElementById("news-list").innerHTML = news.map(item => `<li>${item.title}</li>`).join("");

        const dangerRes = await fetch("https://mocki.io/v1/98e2dbee-8322-4787-9b84-089a410b46d0");
        const danger = await dangerRes.json();
        document.getElementById("danger-list").innerHTML = danger.map(item => `<li>${item.location}</li>`).join("");
      } catch (e) {
        document.getElementById("news-list").innerText = "‚ùå ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πà‡∏≤‡∏ß‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à";
        document.getElementById("danger-list").innerText = "‚ùå ‡πÇ‡∏´‡∏•‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à";
      }
    }

    function sendSOS() {
      document.getElementById("sos-status").innerText = "üì° ‡∏™‡πà‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì SOS ‡πÅ‡∏•‡πâ‡∏ß (‡∏à‡∏≥‡∏•‡∏≠‡∏á)";
    }

    fetchData();
  </script>
</body>
</html>

</html>
body {
  font-family: sans-serif;
  padding: 20px;
  background-color: #fff3f3;
  margin: 0;
}
h1 {
  color: #d90000;
}
button {
  background-color: red;
  color: white;
  padding: 10px 20px;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}
section {
  margin-bottom: 20px;
}



